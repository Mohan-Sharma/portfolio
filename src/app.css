/* Import Tailwind CSS v4 */
@import 'tailwindcss';

/* CSS Custom Properties for theming */
@layer base {
	:root {
		/* ‚òÄÔ∏è Light Mode: "Liquid Pearl" - High-end gallery aesthetic */
		--color-bg-primary: #f2f2f7; /* The Gallery - weighted white */
		--color-bg-secondary: rgba(229, 229, 234, 0.6); /* Mercury Surface - frosted with transparency */
		--color-text-primary: #1c1c1e; /* Obsidian Ink - sharp contrast */
		--color-text-secondary: #636366; /* Subdued gray */
		--color-accent: #a64b35; /* Deep Terracotta - high contrast */
		--color-accent-secondary: #88b04b; /* Soft Sage - organic fresh */
		--color-border: rgba(0, 0, 0, 0.05); /* Subtle border */
		--glass-opacity: 0.6;
		--glass-border: rgba(0, 0, 0, 0.05);

		/* Typography */
		--font-sans:
			'Aptos', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
			Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
		--font-mono: 'Fira Code', 'JetBrains Mono', 'Courier New', monospace;

		/* Material Properties for 3D */
		--material-roughness: 0.4;
		--material-metalness: 0.1;

		/* Glassmorphism */
		--glass-opacity: 0.1;
		--glass-blur: 20px;

		/* Spacing */
		--spacing-unit: 0.25rem;

		/* Border Radius */
		--radius-sm: 0.25rem;
		--radius-md: 0.5rem;
		--radius-lg: 1rem;

		/* Shadows - Architectural */
		--shadow-sm: 0 1px 2px 0 rgb(28 28 30 / 0.08);
		--shadow-md: 0 4px 6px -1px rgb(28 28 30 / 0.12);
		--shadow-lg: 0 10px 15px -3px rgb(28 28 30 / 0.15);

		/* Transitions */
		--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
		--transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
		--transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* üåë Dark Mode: "Anodized Obsidian" - Industrial tech aesthetic
	   NOTE: The @media (prefers-color-scheme: dark) has been removed to allow
	   manual theme toggle. Dark mode is now controlled ONLY via .dark class.
	*/

	/* Dark theme class (for manual toggle) */
	.dark {
		--color-bg-primary: #08080a; /* The Void - absolute base */
		--color-bg-secondary: rgba(20, 20, 24, 0.7); /* Surface - cards with transparency */
		--color-text-primary: #e6e9ef; /* Bright readable text */
		--color-text-secondary: #8e8e93; /* Subdued text */
		--color-accent: #e27d60; /* Anodized Copper - hero accent */
		--color-accent-secondary: #ffb347; /* Biolume Amber - glow effects */
		--color-border: rgba(255, 255, 255, 0.08); /* Subtle glass border */
		--glass-opacity: 0.7;
		--glass-border: rgba(255, 255, 255, 0.08);
		--material-roughness: 0.2;
		--material-metalness: 0.8;
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);
	}

	/* Base Styles */
	* {
		box-sizing: border-box;
	}

	html {
		font-family: var(--font-sans);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
	}

	/* Focus Visible Styles - Uses accent color */
	:focus-visible {
		outline: 2px solid var(--color-accent);
		outline-offset: 2px;
	}

	/* Text Selection */
	::selection {
		background: var(--color-accent);
		color: var(--color-bg-primary);
	}

	::-moz-selection {
		background: var(--color-accent);
		color: var(--color-bg-primary);
	}
}

/* CRITICAL: Body styles OUTSIDE @layer to prevent Tailwind override */
body {
	margin: 0;
	padding: 0;
	background-color: var(--color-bg-primary) !important;
	color: var(--color-text-primary) !important;
	transition: background-color 200ms, color 200ms;
}

html,
html.dark {
	background-color: var(--color-bg-primary);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Skip to Main Content Link */
.skip-to-main {
	position: absolute;
	top: -40px;
	left: 0;
	background: var(--color-accent);
	color: var(--color-bg-primary);
	padding: 0.5rem 1rem;
	text-decoration: none;
	z-index: 100;
	border-radius: var(--radius-sm);
	font-weight: 500;
}

.skip-to-main:focus {
	top: 0;
}

/* Custom Components */
@layer components {
	/* Glassmorphism - Frosted Chrome Effect */
	.glass {
		background: var(--color-bg-secondary);
		backdrop-filter: blur(25px) saturate(160%);
		-webkit-backdrop-filter: blur(25px) saturate(160%);
		border: 1px solid var(--glass-border);
		position: relative;
		box-shadow: var(--shadow-md);
	}

	/* Noise Texture Overlay for Glass */
	.glass::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05' /%3E%3C/svg%3E");
		opacity: 0.05;
		pointer-events: none;
	}

	/* Ghost Wireframe - Blueprint Look */
	.wireframe {
		border: 1px solid var(--color-text-secondary);
		background: transparent;
		transition: all var(--transition-base);
	}

	.wireframe:hover {
		background: var(--color-accent);
		border-color: var(--color-accent);
		color: var(--color-bg-primary);
	}

	/* Negative Inversion Button */
	.btn-invert {
		border: 1px solid var(--color-accent);
		background: transparent;
		color: var(--color-accent);
		padding: 0.75rem 1.5rem;
		border-radius: var(--radius-md);
		font-weight: 500;
		transition: all var(--transition-base);
		cursor: pointer;
	}

	.btn-invert:hover {
		background: var(--color-accent);
		color: var(--color-bg-primary);
		transform: translateY(-1px);
		box-shadow: var(--shadow-md);
	}
}

/* Scrollbar Styling */
::-webkit-scrollbar {
	width: 10px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--color-text-secondary);
	border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-accent);
}

/* Utility Classes */
@layer utilities {
	/* Glow Effect for Interactive Elements */
	.glow {
		box-shadow: 0 0 20px var(--color-accent-secondary);
		animation: pulse-glow 2s ease-in-out infinite;
	}

	@keyframes pulse-glow {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.7;
		}
	}
}
