/* Import Tailwind CSS v4 */
@import 'tailwindcss';

/* CSS Custom Properties for theming */
@layer base {
	:root {
		/* ‚òÄÔ∏è Light Mode: "Sun-Bleached Silk" - Clean, minimal backgrounds */
		--bg-main: 60 20% 98%;      /* #FBFBFA */
		--text-primary: 222 47% 11%; /* #0F172A */
		--text-secondary: 215 16% 47%; /* #64748B */
		--accent: 14 58% 55%;       /* #a64b35 - Deep Terracotta (Original) */
		--accent-foreground: 60 20% 98%;
		--glass-bg: 0 0% 100% / 0.5;
		--glass-border: 0 0% 0% / 0.05;
		--noise-opacity: 0.03;

		/* Legacy color mappings for backwards compatibility */
		--color-bg-primary: hsl(var(--bg-main));
		--color-bg-secondary: hsla(0, 0%, 100%, 0.5);
		--color-text-primary: hsl(var(--text-primary));
		--color-text-secondary: hsl(var(--text-secondary));
		--color-accent: hsl(var(--accent)); /* Orange in both modes */
		--color-accent-secondary: hsl(var(--accent));
		--color-border: hsla(0, 0%, 0%, 0.05);
		--glass-opacity: 0.5;
		--glass-border-color: hsla(0, 0%, 0%, 0.05);

		/* Typography */
		--font-sans:
			'Aptos', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,
			Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
		--font-mono: 'Fira Code', 'JetBrains Mono', 'Courier New', monospace;

		/* Material Properties for 3D */
		--material-roughness: 0.4;
		--material-metalness: 0.1;

		/* Glassmorphism */
		--glass-blur: 30px;

		/* Spacing */
		--spacing-unit: 0.25rem;

		/* Border Radius */
		--radius-sm: 0.25rem;
		--radius-md: 0.5rem;
		--radius-lg: 1rem;

		/* Shadows - Architectural */
		--shadow-sm: 0 1px 2px 0 rgb(15 23 42 / 0.08);
		--shadow-md: 0 4px 6px -1px rgb(15 23 42 / 0.12);
		--shadow-lg: 0 10px 15px -3px rgb(15 23 42 / 0.15);

		/* Transitions */
		--transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
		--transition-base: 200ms cubic-bezier(0.4, 0, 0.2, 1);
		--transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* üåë Dark Mode: "Ethereal Obsidian" - Deep space with synthetic cyan accents
	   NOTE: Dark mode is controlled via .dark class for manual theme toggle
	*/
	.dark {
		--bg-main: 225 33% 3%;      /* #040508 - Deep Dark */
		--text-primary: 210 40% 98%; /* #F8FAFC */
		--text-secondary: 215 20% 65%; /* #94A3B8 */
		--accent: 12 59% 63%;       /* #e27d60 - Anodized Copper (Original Orange) */
		--accent-foreground: 225 33% 3%;
		--glass-bg: 225 25% 7% / 0.6; /* #0D0F16 */
		--glass-border: 210 40% 98% / 0.08;
		--noise-opacity: 0.05;

		/* Legacy color mappings */
		--color-bg-primary: hsl(var(--bg-main));
		--color-bg-secondary: hsla(225, 25%, 7%, 0.6);
		--color-text-primary: hsl(var(--text-primary));
		--color-text-secondary: hsl(var(--text-secondary));
		--color-accent: hsl(var(--accent)); /* Orange in dark mode too */
		--color-accent-secondary: hsl(var(--accent));
		--color-border: hsla(210, 40%, 98%, 0.08);
		--glass-opacity: 0.6;
		--glass-border-color: hsla(210, 40%, 98%, 0.08);
		--material-roughness: 0.2;
		--material-metalness: 0.8;
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5);
	}

	/* Base Styles */
	* {
		box-sizing: border-box;
	}

	html {
		font-family: var(--font-sans);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
	}

	/* Focus Visible Styles - Uses accent color */
	:focus-visible {
		outline: 2px solid var(--color-accent);
		outline-offset: 2px;
	}

	/* Text Selection */
	::selection {
		background: var(--color-accent);
		color: var(--color-bg-primary);
	}

	::-moz-selection {
		background: var(--color-accent);
		color: var(--color-bg-primary);
	}
}

/* CRITICAL: Body styles OUTSIDE @layer to prevent Tailwind override */
body {
	margin: 0;
	padding: 0;
	background-color: var(--color-bg-primary) !important;
	color: var(--color-text-primary) !important;
	transition: background-color 200ms, color 200ms;
}

html,
html.dark {
	background-color: var(--color-bg-primary);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}
}

/* Skip to Main Content Link */
.skip-to-main {
	position: absolute;
	top: -40px;
	left: 0;
	background: var(--color-accent);
	color: var(--color-bg-primary);
	padding: 0.5rem 1rem;
	text-decoration: none;
	z-index: 100;
	border-radius: var(--radius-sm);
	font-weight: 500;
}

.skip-to-main:focus {
	top: 0;
}

/* Custom Components */
@layer components {
	/* Glassmorphism - Realistic Glass Effect with Noise Texture */
	.glass {
		position: relative;
		overflow: hidden;
		border-radius: 0.75rem;
		border: 1px solid color-mix(in srgb, hsl(var(--glass-border)), transparent);
		background: color-mix(in srgb, hsl(var(--glass-bg)), transparent);
		backdrop-filter: blur(30px) saturate(150%);
		-webkit-backdrop-filter: blur(30px) saturate(150%);
		box-shadow: var(--shadow-lg);
		transition: all 0.3s ease;
	}

	/* Realistic Noise Texture Overlay for Glass */
	.glass::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: -1;
		opacity: var(--noise-opacity);
		background-image: url('https://grainy-gradients.vercel.app/noise.svg');
	}

	/* Glass Card Variant with enhanced effects */
	.glass-card {
		position: relative;
		overflow: hidden;
		border-radius: 0.75rem;
		border: 1px solid color-mix(in srgb, hsl(var(--glass-border)), transparent);
		background: color-mix(in srgb, hsl(var(--glass-bg)), transparent);
		backdrop-filter: blur(30px) saturate(150%);
		-webkit-backdrop-filter: blur(30px) saturate(150%);
		box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
		transition: all 0.3s ease;
	}

	.glass-card::before {
		content: '';
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: -1;
		opacity: var(--noise-opacity);
		background-image: url('https://grainy-gradients.vercel.app/noise.svg');
	}

	/* Ghost Wireframe - Blueprint Look */
	.wireframe {
		border: 1px solid var(--color-text-secondary);
		background: transparent;
		transition: all var(--transition-base);
	}

	.wireframe:hover {
		background: var(--color-accent);
		border-color: var(--color-accent);
		color: var(--color-bg-primary);
	}

	/* Negative Inversion Button */
	.btn-invert {
		border: 1px solid var(--color-accent);
		background: transparent;
		color: var(--color-accent);
		padding: 0.75rem 1.5rem;
		border-radius: var(--radius-md);
		font-weight: 500;
		transition: all var(--transition-base);
		cursor: pointer;
	}

	.btn-invert:hover {
		background: var(--color-accent);
		color: var(--color-bg-primary);
		transform: translateY(-1px);
		box-shadow: var(--shadow-md);
	}
}

/* Scrollbar Styling */
::-webkit-scrollbar {
	width: 10px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--color-text-secondary);
	border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-accent);
}

/* Utility Classes */
@layer utilities {
	/* Glow Effect for Interactive Elements */
	.glow {
		box-shadow: 0 0 20px var(--color-accent-secondary);
		animation: pulse-glow 2s ease-in-out infinite;
	}

	@keyframes pulse-glow {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.7;
		}
	}
}
